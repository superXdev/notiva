(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[39],{30293:(e,t,s)=>{"use strict";s.d(t,{PublishedActions:()=>m});var a=s(30004),n=s(73176),i=s(8924),l=s(75413),r=s(85351),o=s(67564),c=s(82241),d=s(67960),h=s(44135);function m(e){let{note:t}=e,[s,m]=(0,n.useState)(!1),[p,u]=(0,n.useState)(!1),{toast:x}=(0,d.dj)(),f=async()=>{try{u(!0),await (0,c.Q)({title:t.title||"Untitled Note",content:t.content,labels:t.labels,createdAt:t.created_at,updatedAt:t.updated_at}),x({title:"PDF exported successfully",description:"Your note has been downloaded as a PDF file."})}catch(e){x({title:"Export failed",description:"There was an error exporting the PDF. Please try again.",variant:"destructive"})}finally{u(!1)}},g=async()=>{try{await navigator.clipboard.writeText(t.content),m(!0),x({title:"Markdown copied",description:"The note content has been copied to your clipboard."}),setTimeout(()=>m(!1),2e3)}catch(e){x({title:"Copy failed",description:"There was an error copying the content. Please try again.",variant:"destructive"})}};return(0,a.jsxs)("div",{className:"flex items-center gap-1 md:gap-2",children:[(0,a.jsx)(h.U,{}),(0,a.jsxs)(i.$,{onClick:f,disabled:p,variant:"outline",size:"sm",className:"flex items-center gap-1 md:gap-2",children:[(0,a.jsx)(l.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:p?"Exporting...":"Download PDF"}),(0,a.jsx)("span",{className:"sm:hidden",children:p?"...":"PDF"})]}),(0,a.jsx)(i.$,{onClick:g,variant:"outline",size:"sm",className:"flex items-center gap-1 md:gap-2",children:s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Copied!"}),(0,a.jsx)("span",{className:"sm:hidden",children:"âœ“"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Copy Markdown"}),(0,a.jsx)("span",{className:"sm:hidden",children:"Copy"})]})})]})}},45248:(e,t,s)=>{Promise.resolve().then(s.bind(s,30293)),Promise.resolve().then(s.bind(s,45614)),Promise.resolve().then(s.t.bind(s,59713,23)),Promise.resolve().then(s.t.bind(s,36764,23))},45614:(e,t,s)=>{"use strict";s.d(t,{PublishedNavigation:()=>d});var a=s(30004),n=s(73176),i=s(93945),l=s(83937),r=s(38347),o=s(8924),c=s(90145);function d(e){let{content:t}=e,[s,d]=(0,n.useState)([]),[h,m]=(0,n.useState)("");(0,n.useEffect)(()=>{let e=t.split("\n"),s=[];e.forEach(e=>{let t=e.match(/^(#{1,6})\s+(.+)$/);if(t){let e=t[1].length,a=t[2].trim(),n="heading-".concat(a.toLowerCase().replace(/[^a-z0-9]+/g,"-"));s.push({id:n,text:a,level:e})}}),d(s)},[t]),(0,n.useEffect)(()=>{let e=()=>{let e=s.map(e=>document.getElementById(e.id)).filter(Boolean);if(0===e.length)return;let t=window.scrollY+100,a="";for(let s=e.length-1;s>=0;s--){let n=e[s];if(n.offsetTop<=t){a=n.id;break}}m(a)};return s.length>0&&(window.addEventListener("scroll",e),e()),()=>window.removeEventListener("scroll",e)},[s]);let p=e=>{let t=document.getElementById(e);if(t){let e=t.getBoundingClientRect().top+window.pageYOffset-100;window.scrollTo({top:e,behavior:"smooth"})}};return 0===s.length?null:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("nav",{className:"hidden lg:block w-64 flex-shrink-0",children:(0,a.jsxs)("div",{className:"sticky top-8",children:[(0,a.jsx)("div",{className:"text-sm font-semibold text-foreground mb-3 px-4",children:"On this page"}),(0,a.jsx)("ul",{className:"space-y-1",children:s.map((e,t)=>(0,a.jsx)("li",{children:(0,a.jsxs)("button",{onClick:()=>p(e.id),className:(0,r.cn)("w-full text-left px-4 py-2 text-sm rounded-md transition-colors hover:bg-accent hover:text-accent-foreground","flex items-center gap-2",h===e.id&&"bg-accent text-accent-foreground font-medium",e.level>2&&"text-muted-foreground"),style:{paddingLeft:"".concat(12*Math.min(e.level,3)+16,"px")},children:[(0,a.jsx)(i.A,{className:"h-3 w-3 flex-shrink-0"}),(0,a.jsx)("span",{className:"truncate",children:e.text})]})},"".concat(e.id,"-").concat(t)))})]})}),(0,a.jsx)("div",{className:"lg:hidden fixed bottom-4 right-4 z-50",children:(0,a.jsxs)(c.rI,{children:[(0,a.jsx)(c.ty,{asChild:!0,children:(0,a.jsx)(o.$,{size:"sm",className:"rounded-full w-12 h-12 shadow-lg",children:(0,a.jsx)(l.A,{className:"h-4 w-4"})})}),(0,a.jsxs)(c.SQ,{align:"end",className:"w-64 max-h-80 overflow-y-auto",children:[(0,a.jsx)("div",{className:"text-sm font-semibold text-foreground mb-2 px-2",children:"On this page"}),s.map((e,t)=>(0,a.jsx)(c._2,{onClick:()=>p(e.id),className:"flex items-start py-2 cursor-pointer",children:(0,a.jsxs)("div",{className:"flex items-center w-full",children:[(0,a.jsx)(i.A,{className:"h-3 w-3 mr-2 text-muted-foreground flex-shrink-0"}),(0,a.jsx)("div",{className:"text-sm truncate",style:{paddingLeft:"".concat(8*Math.min(e.level,3),"px"),opacity:e.level>2?.8:1},children:e.text})]})},"".concat(e.id,"-").concat(t)))]})]})})]})}},67960:(e,t,s)=>{"use strict";s.d(t,{dj:()=>m});var a=s(73176);let n=0,i=new Map,l=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},r=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?l(s):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],c={toasts:[]};function d(e){c=r(c,e),o.forEach(e=>{e(c)})}function h(e){let{...t}=e,s=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>d({type:"DISMISS_TOAST",toastId:s});return d({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function m(){let[e,t]=a.useState(c);return a.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:h,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}}},e=>{var t=t=>e(e.s=t);e.O(0,[969,346,713,114,306,102,183,476,571,358],()=>t(45248)),_N_E=e.O()}]);